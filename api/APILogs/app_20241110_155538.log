2024-11-10 15:55:41.170 +01:00 [INF] User profile is available. Using 'C:\Users\Mats\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-10 15:55:41.770 +01:00 [INF] Now listening on: https://localhost:7263
2024-11-10 15:55:41.779 +01:00 [INF] Now listening on: http://localhost:5194
2024-11-10 15:55:41.798 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-10 15:55:41.804 +01:00 [INF] Hosting environment: Development
2024-11-10 15:55:41.809 +01:00 [INF] Content root path: C:\Users\Mats\web-projects\react\exam\api
2024-11-10 15:55:42.222 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:55:42.329 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:55:42.378 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:55:42.419 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:55:42.469 +01:00 [INF] Authentication result: True
2024-11-10 15:55:42.477 +01:00 [INF] Principal Name from auth result: matteo@mail.no
2024-11-10 15:55:42.485 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:55:42.493 +01:00 [INF] Request method: GET
2024-11-10 15:55:42.505 +01:00 [INF] Request scheme: http
2024-11-10 15:55:42.509 +01:00 [INF] Auth Type: Identity.Application
2024-11-10 15:55:42.515 +01:00 [INF] Identity Name: matteo@mail.no
2024-11-10 15:55:42.719 +01:00 [INF] User from UserManager: null
2024-11-10 15:55:42.725 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA, .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4AloBFUts6nWmjadZr1BvPVpRe_y2G3wSeWJixrFHsBJKr18uV9_IpWbmKayBwnJFwihaKkYzOsTpBaTohLUMoa8Q2owZidXzQ3_f-Q7C9jaNa5k9s-R-oi2Bz7NXB2pAf8jIjvoJKiDmhPl95-5HmzD00qS8OfhMIOJAuBdNVkSVa1BL1pw0K3v9yoU8TMqGGtfomAri5TrxgfDq43iUQOAM2XCWQDLro5L-Cr-3wT4m-6wRE-uP6f2AJpr-459LNsWxv0KOFMQ0oh36rCLqmxi45LU-L5cq8JILjdmrkuVHR581giqUfiO4naK2FpZN5zfYBaKDFFRLbxMfHOeSJygiq_iGiWywqTp1oUmHVCU3AsJln4FA8KIOzcDyPG-Xqx1Ru-fDULb5O33jNChJkeaSZuUpnmuZDqkMoGrmGnDgkESnTCDr0EB1_Dv2sH7KvrSj3WbqTNuf2qdh_np9xMltIxbUzzbAVwyrJO3lLzm6vYDjCRcv_IBdqUr6p4hAdacg0Qlx-QUErkqHz9SRJQyB70JY9gkIpLRf3GjJ1i9Z3nFAnJ_292UyViiRH6X1yf5E7dAuyH76zPQ2IaWslh_aHwm0a3NoT3XmgFqlVSSZnKMv1MAgsxXouXZIAZilBmUcfoXGk5XEtrhAKWHXrc36gz71NH9CRfoAuBTK7G38SXlkema6X4fwjPd3W4WyfHhLCKq2MNEJS5C7f2HGa7EQ
2024-11-10 15:55:42.731 +01:00 [INF] GetUserInfo called:
2024-11-10 15:55:42.736 +01:00 [INF] IsAuthenticated: True
2024-11-10 15:55:42.740 +01:00 [INF] UserName: matteo@mail.no
2024-11-10 15:55:42.745 +01:00 [INF] Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 22c44796-a263-4608-a2f8-92a5acfb28cc, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: matteo@mail.no, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: matteo@mail.no, AspNet.Identity.SecurityStamp: 63SZCVOS2WPPR6NS2V5NPWDOK4R5KONN, amr: pwd
2024-11-10 15:55:42.750 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 22c44796-a263-4608-a2f8-92a5acfb28cc
2024-11-10 15:55:42.753 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = matteo@mail.no
2024-11-10 15:55:42.757 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = matteo@mail.no
2024-11-10 15:55:42.762 +01:00 [INF] Claim: AspNet.Identity.SecurityStamp = 63SZCVOS2WPPR6NS2V5NPWDOK4R5KONN
2024-11-10 15:55:42.767 +01:00 [INF] Claim: amr = pwd
2024-11-10 15:55:42.798 +01:00 [INF] Returning response: {"isAuthenticated":true,"userName":"matteo@mail.no","manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:55:42.814 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:55:42.834 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:55:42.837 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 409.9285ms
2024-11-10 15:55:42.839 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:55:42.839 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:55:42.844 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:55:42.846 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:55:42.852 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 634.1981ms
2024-11-10 15:55:42.862 +01:00 [INF] Authentication result: True
2024-11-10 15:55:42.869 +01:00 [INF] Principal Name from auth result: matteo@mail.no
2024-11-10 15:55:42.873 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:55:42.876 +01:00 [INF] Request method: GET
2024-11-10 15:55:42.882 +01:00 [INF] Request scheme: http
2024-11-10 15:55:42.886 +01:00 [INF] Auth Type: Identity.Application
2024-11-10 15:55:42.890 +01:00 [INF] Identity Name: matteo@mail.no
2024-11-10 15:55:42.985 +01:00 [INF] User from UserManager: null
2024-11-10 15:55:42.989 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA, .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4AloBFUts6nWmjadZr1BvPVpRe_y2G3wSeWJixrFHsBJKr18uV9_IpWbmKayBwnJFwihaKkYzOsTpBaTohLUMoa8Q2owZidXzQ3_f-Q7C9jaNa5k9s-R-oi2Bz7NXB2pAf8jIjvoJKiDmhPl95-5HmzD00qS8OfhMIOJAuBdNVkSVa1BL1pw0K3v9yoU8TMqGGtfomAri5TrxgfDq43iUQOAM2XCWQDLro5L-Cr-3wT4m-6wRE-uP6f2AJpr-459LNsWxv0KOFMQ0oh36rCLqmxi45LU-L5cq8JILjdmrkuVHR581giqUfiO4naK2FpZN5zfYBaKDFFRLbxMfHOeSJygiq_iGiWywqTp1oUmHVCU3AsJln4FA8KIOzcDyPG-Xqx1Ru-fDULb5O33jNChJkeaSZuUpnmuZDqkMoGrmGnDgkESnTCDr0EB1_Dv2sH7KvrSj3WbqTNuf2qdh_np9xMltIxbUzzbAVwyrJO3lLzm6vYDjCRcv_IBdqUr6p4hAdacg0Qlx-QUErkqHz9SRJQyB70JY9gkIpLRf3GjJ1i9Z3nFAnJ_292UyViiRH6X1yf5E7dAuyH76zPQ2IaWslh_aHwm0a3NoT3XmgFqlVSSZnKMv1MAgsxXouXZIAZilBmUcfoXGk5XEtrhAKWHXrc36gz71NH9CRfoAuBTK7G38SXlkema6X4fwjPd3W4WyfHhLCKq2MNEJS5C7f2HGa7EQ
2024-11-10 15:55:42.992 +01:00 [INF] GetUserInfo called:
2024-11-10 15:55:42.995 +01:00 [INF] IsAuthenticated: True
2024-11-10 15:55:42.999 +01:00 [INF] UserName: matteo@mail.no
2024-11-10 15:55:43.002 +01:00 [INF] Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 22c44796-a263-4608-a2f8-92a5acfb28cc, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: matteo@mail.no, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: matteo@mail.no, AspNet.Identity.SecurityStamp: 63SZCVOS2WPPR6NS2V5NPWDOK4R5KONN, amr: pwd
2024-11-10 15:55:43.005 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 22c44796-a263-4608-a2f8-92a5acfb28cc
2024-11-10 15:55:43.008 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = matteo@mail.no
2024-11-10 15:55:43.012 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = matteo@mail.no
2024-11-10 15:55:43.015 +01:00 [INF] Claim: AspNet.Identity.SecurityStamp = 63SZCVOS2WPPR6NS2V5NPWDOK4R5KONN
2024-11-10 15:55:43.018 +01:00 [INF] Claim: amr = pwd
2024-11-10 15:55:43.021 +01:00 [INF] Returning response: {"isAuthenticated":true,"userName":"matteo@mail.no","manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:55:43.022 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:55:43.023 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 176.6317ms
2024-11-10 15:55:43.023 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:55:43.024 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 190.0389ms
2024-11-10 15:55:50.367 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:55:50.370 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:55:50.372 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 204 null null 4.7677ms
2024-11-10 15:55:50.375 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - application/json 0
2024-11-10 15:55:50.385 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:55:50.394 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:55:50.414 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:55:50.419 +01:00 [INF] Antiforgery token validation failed. The required antiforgery header value "RequestVerificationToken" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery header value "RequestVerificationToken" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2024-11-10 15:55:50.450 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2024-11-10 15:55:50.456 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 400
2024-11-10 15:55:50.456 +01:00 [INF] Executed page /Account/Logout in 41.5136ms
2024-11-10 15:55:50.457 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:55:50.457 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 400 0 null 82.1252ms
2024-11-10 15:55:50.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:55:50.494 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:55:50.495 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:55:50.532 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:55:50.534 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:55:50.684 +01:00 [INF] Executed page /Account/Logout in 189.1509ms
2024-11-10 15:55:50.684 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:55:50.687 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 200 null text/html; charset=utf-8 195.7552ms
2024-11-10 15:55:52.966 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout - application/x-www-form-urlencoded 225
2024-11-10 15:55:52.967 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:55:52.969 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:55:52.970 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:55:53.001 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LogoutModel.OnPost - ModelState is "Valid"
2024-11-10 15:55:53.012 +01:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-11-10 15:55:53.013 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:55:53.014 +01:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-11-10 15:55:53.017 +01:00 [INF] User logged out.
2024-11-10 15:55:53.019 +01:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2024-11-10 15:55:53.020 +01:00 [INF] Executing RedirectToPageResult, redirecting to null.
2024-11-10 15:55:53.021 +01:00 [INF] Executed page /Account/Logout in 51.0967ms
2024-11-10 15:55:53.021 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:55:53.021 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout - 302 0 null 54.9778ms
2024-11-10 15:55:53.028 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout - null null
2024-11-10 15:55:53.030 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-10 15:55:53.033 +01:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-11-10 15:55:53.034 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout - 302 0 null 5.6894ms
2024-11-10 15:55:53.040 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=%2FIdentity%2FAccount%2FLogout - null null
2024-11-10 15:55:53.040 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:55:53.056 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:55:53.062 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:55:53.063 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:55:53.065 +01:00 [INF] Executed handler method OnGetAsync, returned result .
2024-11-10 15:55:53.065 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:55:53.065 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:55:53.155 +01:00 [INF] Executed page /Account/Login in 98.8369ms
2024-11-10 15:55:53.155 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:55:53.156 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=%2FIdentity%2FAccount%2FLogout - 200 null text/html; charset=utf-8 115.872ms
2024-11-10 15:56:10.941 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Login?ReturnUrl=%2FIdentity%2FAccount%2FLogout - application/x-www-form-urlencoded 256
2024-11-10 15:56:10.942 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:56:10.942 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:56:10.943 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:56:10.959 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-11-10 15:56:10.986 +01:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:56:10.992 +01:00 [INF] Executed page /Account/Login in 49.2188ms
2024-11-10 15:56:10.992 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:56:10.993 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Login?ReturnUrl=%2FIdentity%2FAccount%2FLogout - 200 null text/html; charset=utf-8 51.2361ms
2024-11-10 15:56:13.167 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Register - null null
2024-11-10 15:56:13.168 +01:00 [INF] Executing endpoint '/Account/Register'
2024-11-10 15:56:13.175 +01:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2024-11-10 15:56:13.176 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:56:13.177 +01:00 [INF] Executed handler method OnGetAsync, returned result .
2024-11-10 15:56:13.178 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:56:13.178 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:56:13.198 +01:00 [INF] Executed page /Account/Register in 22.9003ms
2024-11-10 15:56:13.198 +01:00 [INF] Executed endpoint '/Account/Register'
2024-11-10 15:56:13.198 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Register - 200 null text/html; charset=utf-8 30.9482ms
2024-11-10 15:56:22.845 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Register - application/x-www-form-urlencoded 259
2024-11-10 15:56:22.845 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:56:22.846 +01:00 [INF] Executing endpoint '/Account/Register'
2024-11-10 15:56:22.846 +01:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2024-11-10 15:56:22.851 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.RegisterModel.OnPostAsync - ModelState is "Valid"
2024-11-10 15:56:22.857 +01:00 [INF] OnPostAsync started with returnUrl: null
2024-11-10 15:56:22.860 +01:00 [INF] ModelState is valid. Creating user with email: mat@mail.no
2024-11-10 15:56:23.191 +01:00 [INF] User created a new account with password.
2024-11-10 15:56:23.237 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-11-10 15:56:23.240 +01:00 [INF] User signed in successfully
2024-11-10 15:56:23.242 +01:00 [INF] Authentication state after sign in: true
2024-11-10 15:56:23.289 +01:00 [INF] Cookies being set: .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4Alra0PP7pxqTO8mE7ryR6iibHDW2GphzIakYRQA8qb1oBDiMNDfQP1CH0ZkuCIby0NjkJRD3gBXAHp-Q7gOoIIbESrDxiygBeaLGF3srKXt_ELpTbPh4K3s3CobHCvczq4HGMZa6wn-VyJqjWi4pbkRsp3Ner9u5_vz-yX4hdSSkdkUXw7MCs_FLfmHlVCidMnb0UF3fandB1QkeUifYvpUb7ZEneHSgDuehD_7VEHu_RgFQyJzlOZpDup5sS6vq5z2iVUAeLKfG4M2hm07Ri0IQPqXhuVvYLdcTmh5RA8AayuP5G2sNhVpaymL2e39Atz23p_3gRMDbSiSizvKlOQDuS4DKEEPpse_qIx5EBlQYxbu5t2uNoZorhn1K8ceLcoPFT4GuQsti7_a3ZAjd3tQoUFcnZSm1RW0cW2crjQsCzLKymIAQo63Ir_hJnc_xAqrddpnN6VV5ijYZqm9LYLBvtsf0LvS_Fu7n0m_BZrAZJz6s43lW6CM6PqAE34firhGKT9JI5KsXj7HbxOdbnYdH1o8GKO4Zd088aTrBJr7AhBa5LJieAR3_Mj0Z05VRg7bQAgrd-4mijXPKB4_c8xTLlvBqS-onfRDa31CCTbo5Gk2pabLjq-BVJk5flLrPWQk7DatzLzgpMqdiEkFKSBtcoTj16p3GAI6joaYkMtZm6Hj6J4C13lxSENco2lWmQTCGUpcZ6LGxbehJiy1XoxEJ; expires=Tue, 10 Dec 2024 14:56:23 GMT; path=/; samesite=lax; httponly
2024-11-10 15:56:23.374 +01:00 [INF] Redirecting to local URL: /
2024-11-10 15:56:23.374 +01:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-11-10 15:56:23.381 +01:00 [INF] Executed page /Account/Register in 534.5715ms
2024-11-10 15:56:23.382 +01:00 [INF] Executed endpoint '/Account/Register'
2024-11-10 15:56:23.392 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The supplied URL is not local. A URL with an absolute path is considered local if it does not have a host/authority part. URLs using virtual paths ('~/') are also local.
   at Microsoft.AspNetCore.Mvc.Infrastructure.LocalRedirectResultExecutor.ExecuteAsync(ActionContext context, LocalRedirectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-10 15:56:23.410 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Register - 500 null text/html; charset=utf-8 564.7595ms
2024-11-10 15:56:45.629 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:56:45.630 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:56:45.630 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:56:45.630 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:56:45.636 +01:00 [INF] Authentication result: False
2024-11-10 15:56:45.642 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:56:45.647 +01:00 [INF] Request method: GET
2024-11-10 15:56:45.652 +01:00 [INF] Request scheme: http
2024-11-10 15:56:45.656 +01:00 [INF] Auth Type: 
2024-11-10 15:56:45.713 +01:00 [INF] Identity Name: 
2024-11-10 15:56:45.802 +01:00 [INF] User from UserManager: null
2024-11-10 15:56:45.888 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA
2024-11-10 15:56:45.902 +01:00 [INF] GetUserInfo called:
2024-11-10 15:56:45.912 +01:00 [INF] IsAuthenticated: False
2024-11-10 15:56:45.915 +01:00 [INF] UserName: 
2024-11-10 15:56:45.918 +01:00 [INF] Claims: 
2024-11-10 15:56:45.922 +01:00 [INF] Returning response: {"isAuthenticated":false,"userName":null,"manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:56:45.922 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:56:45.923 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 291.9584ms
2024-11-10 15:56:45.923 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:56:45.924 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 294.7806ms
2024-11-10 15:56:45.934 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:56:45.935 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:56:45.936 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:56:45.936 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:56:45.947 +01:00 [INF] Authentication result: False
2024-11-10 15:56:45.966 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:56:45.972 +01:00 [INF] Request method: GET
2024-11-10 15:56:45.978 +01:00 [INF] Request scheme: http
2024-11-10 15:56:45.982 +01:00 [INF] Auth Type: 
2024-11-10 15:56:45.985 +01:00 [INF] Identity Name: 
2024-11-10 15:56:45.990 +01:00 [INF] User from UserManager: null
2024-11-10 15:56:45.998 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA
2024-11-10 15:56:46.001 +01:00 [INF] GetUserInfo called:
2024-11-10 15:56:46.008 +01:00 [INF] IsAuthenticated: False
2024-11-10 15:56:46.013 +01:00 [INF] UserName: 
2024-11-10 15:56:46.017 +01:00 [INF] Claims: 
2024-11-10 15:56:46.021 +01:00 [INF] Returning response: {"isAuthenticated":false,"userName":null,"manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:56:46.021 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:56:46.021 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 85.3178ms
2024-11-10 15:56:46.022 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:56:46.022 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 87.2983ms
2024-11-10 15:56:51.266 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:56:51.267 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:56:51.268 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:56:51.268 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:56:51.269 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:56:51.269 +01:00 [INF] Executed handler method OnGetAsync, returned result .
2024-11-10 15:56:51.269 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:56:51.269 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:56:51.274 +01:00 [INF] Executed page /Account/Login in 5.8851ms
2024-11-10 15:56:51.274 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:56:51.274 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 200 null text/html; charset=utf-8 7.7406ms
2024-11-10 15:57:03.397 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Login?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - application/x-www-form-urlencoded 253
2024-11-10 15:57:03.397 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:03.398 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:57:03.398 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:57:03.399 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-11-10 15:57:03.630 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-11-10 15:57:03.633 +01:00 [INF] User logged in.
2024-11-10 15:57:03.634 +01:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RedirectResult.
2024-11-10 15:57:03.635 +01:00 [INF] Executing RedirectResult, redirecting to http://localhost:3000.
2024-11-10 15:57:03.635 +01:00 [INF] Executed page /Account/Login in 237.2774ms
2024-11-10 15:57:03.635 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:57:03.635 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Login?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 302 0 null 238.2014ms
2024-11-10 15:57:04.067 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:57:04.067 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:04.067 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:04.068 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:57:04.120 +01:00 [INF] Authentication result: True
2024-11-10 15:57:04.132 +01:00 [INF] Principal Name from auth result: mat@mail.no
2024-11-10 15:57:04.136 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:57:04.147 +01:00 [INF] Request method: GET
2024-11-10 15:57:04.151 +01:00 [INF] Request scheme: http
2024-11-10 15:57:04.155 +01:00 [INF] Auth Type: Identity.Application
2024-11-10 15:57:04.159 +01:00 [INF] Identity Name: mat@mail.no
2024-11-10 15:57:04.170 +01:00 [INF] User from UserManager: mat@mail.no
2024-11-10 15:57:04.178 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA, .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4AlqCkRuvhm9_r2T2gKMezx8LqNJb33RGz30amZ9PI-QvgNCtYWXREn0FImebdd6x7fu3-AnV3G5el7ytxlmeYQq_6K6kPBNBQS2voqAuAfbcC0tsxq7Cr_XaLtAKqV4usDHZ_uLL1UlS7WWYbWqLdK17E-EggkaQCGZBNqBtkZmN5DGYTEcO6DgslBjkvDjbZakvF164q14RNd4H2sE2vvaCgGIS8mHBlRuF-O_bCYzlnkFbAvVofl3qTSu_sQIyRN309Jwc3lG9gRoJ49-goHoWw48qH82AX6M91bDR_QxbtvBTKAt6pjVa-HPDNE0mDxMyt3CtR0IToXbRJjp1x5r4oawu3vvBPg1gYKoCK2-ySAiBeZFKg5NISpkm_VuRU_dIobe3gnmEM5wmlfEcgV2MJvrDsx86BsQ2xgmxiTU8uCBnLETWMvRaYz7LAkY00B4TdDVklGwMeXjZPDd6fVzVmHUg5uj_Mpfyt2ulNI4fU5gTOygqKHuEEizj05HID6bCxmt1-kBzUbkbUjmrzkDIS99UleNaTcxvVMe2hAYGnnhRv5TOcctYXcxVKKbnofE8vfa1GujFVHU4RrW1GD7o6HOaR3WVDgQDOBYcI5vmABMtBI0hWcncx3EYIPHq_74snyWiGShVtQG-1_h0pWUTxg1QXbEWVWV9xN9SoZmxoREDyyCMqVOKJC3StQkgALVEhxzbfr4XClZ2WAa7QX5W
2024-11-10 15:57:04.182 +01:00 [INF] GetUserInfo called:
2024-11-10 15:57:04.185 +01:00 [INF] IsAuthenticated: True
2024-11-10 15:57:04.190 +01:00 [INF] UserName: mat@mail.no
2024-11-10 15:57:04.196 +01:00 [INF] Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: a4977aa4-b22f-42b5-9b8f-c1a2da413052, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: mat@mail.no, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: mat@mail.no, AspNet.Identity.SecurityStamp: D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON, amr: pwd
2024-11-10 15:57:04.200 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = a4977aa4-b22f-42b5-9b8f-c1a2da413052
2024-11-10 15:57:04.202 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = mat@mail.no
2024-11-10 15:57:04.205 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = mat@mail.no
2024-11-10 15:57:04.208 +01:00 [INF] Claim: AspNet.Identity.SecurityStamp = D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON
2024-11-10 15:57:04.212 +01:00 [INF] Claim: amr = pwd
2024-11-10 15:57:04.215 +01:00 [INF] Returning response: {"isAuthenticated":true,"userName":"mat@mail.no","manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:57:04.215 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:57:04.216 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 147.896ms
2024-11-10 15:57:04.216 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:04.216 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 149.489ms
2024-11-10 15:57:04.220 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:57:04.220 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:04.221 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:04.221 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:57:04.224 +01:00 [INF] Authentication result: True
2024-11-10 15:57:04.228 +01:00 [INF] Principal Name from auth result: mat@mail.no
2024-11-10 15:57:04.231 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:57:04.235 +01:00 [INF] Request method: GET
2024-11-10 15:57:04.238 +01:00 [INF] Request scheme: http
2024-11-10 15:57:04.241 +01:00 [INF] Auth Type: Identity.Application
2024-11-10 15:57:04.246 +01:00 [INF] Identity Name: mat@mail.no
2024-11-10 15:57:04.256 +01:00 [INF] User from UserManager: mat@mail.no
2024-11-10 15:57:04.260 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA, .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4AlqCkRuvhm9_r2T2gKMezx8LqNJb33RGz30amZ9PI-QvgNCtYWXREn0FImebdd6x7fu3-AnV3G5el7ytxlmeYQq_6K6kPBNBQS2voqAuAfbcC0tsxq7Cr_XaLtAKqV4usDHZ_uLL1UlS7WWYbWqLdK17E-EggkaQCGZBNqBtkZmN5DGYTEcO6DgslBjkvDjbZakvF164q14RNd4H2sE2vvaCgGIS8mHBlRuF-O_bCYzlnkFbAvVofl3qTSu_sQIyRN309Jwc3lG9gRoJ49-goHoWw48qH82AX6M91bDR_QxbtvBTKAt6pjVa-HPDNE0mDxMyt3CtR0IToXbRJjp1x5r4oawu3vvBPg1gYKoCK2-ySAiBeZFKg5NISpkm_VuRU_dIobe3gnmEM5wmlfEcgV2MJvrDsx86BsQ2xgmxiTU8uCBnLETWMvRaYz7LAkY00B4TdDVklGwMeXjZPDd6fVzVmHUg5uj_Mpfyt2ulNI4fU5gTOygqKHuEEizj05HID6bCxmt1-kBzUbkbUjmrzkDIS99UleNaTcxvVMe2hAYGnnhRv5TOcctYXcxVKKbnofE8vfa1GujFVHU4RrW1GD7o6HOaR3WVDgQDOBYcI5vmABMtBI0hWcncx3EYIPHq_74snyWiGShVtQG-1_h0pWUTxg1QXbEWVWV9xN9SoZmxoREDyyCMqVOKJC3StQkgALVEhxzbfr4XClZ2WAa7QX5W
2024-11-10 15:57:04.264 +01:00 [INF] GetUserInfo called:
2024-11-10 15:57:04.267 +01:00 [INF] IsAuthenticated: True
2024-11-10 15:57:04.271 +01:00 [INF] UserName: mat@mail.no
2024-11-10 15:57:04.360 +01:00 [INF] Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: a4977aa4-b22f-42b5-9b8f-c1a2da413052, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: mat@mail.no, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: mat@mail.no, AspNet.Identity.SecurityStamp: D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON, amr: pwd
2024-11-10 15:57:04.364 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = a4977aa4-b22f-42b5-9b8f-c1a2da413052
2024-11-10 15:57:04.367 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = mat@mail.no
2024-11-10 15:57:04.371 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = mat@mail.no
2024-11-10 15:57:04.374 +01:00 [INF] Claim: AspNet.Identity.SecurityStamp = D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON
2024-11-10 15:57:04.386 +01:00 [INF] Claim: amr = pwd
2024-11-10 15:57:04.390 +01:00 [INF] Returning response: {"isAuthenticated":true,"userName":"mat@mail.no","manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:57:04.390 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:57:04.391 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 169.6435ms
2024-11-10 15:57:04.391 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:04.391 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 171.3923ms
2024-11-10 15:57:08.661 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:57:08.661 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:08.662 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 204 null null 0.8525ms
2024-11-10 15:57:08.664 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - application/json 0
2024-11-10 15:57:08.664 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:08.665 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:57:08.665 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:57:08.666 +01:00 [INF] Antiforgery token validation failed. The required antiforgery header value "RequestVerificationToken" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery header value "RequestVerificationToken" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2024-11-10 15:57:08.666 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2024-11-10 15:57:08.666 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 400
2024-11-10 15:57:08.667 +01:00 [INF] Executed page /Account/Logout in 1.6061ms
2024-11-10 15:57:08.667 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:57:08.667 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 400 0 null 3.0392ms
2024-11-10 15:57:08.699 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:57:08.700 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:57:08.700 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:57:08.700 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:57:08.700 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:57:08.703 +01:00 [INF] Executed page /Account/Logout in 3.6724ms
2024-11-10 15:57:08.704 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:57:08.704 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 200 null text/html; charset=utf-8 5.1444ms
2024-11-10 15:57:10.700 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout - application/x-www-form-urlencoded 225
2024-11-10 15:57:10.701 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:10.701 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:57:10.701 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:57:10.702 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LogoutModel.OnPost - ModelState is "Valid"
2024-11-10 15:57:10.702 +01:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-11-10 15:57:10.702 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:57:10.702 +01:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-11-10 15:57:10.705 +01:00 [INF] User logged out.
2024-11-10 15:57:10.705 +01:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2024-11-10 15:57:10.706 +01:00 [INF] Executing RedirectToPageResult, redirecting to null.
2024-11-10 15:57:10.706 +01:00 [INF] Executed page /Account/Logout in 4.7946ms
2024-11-10 15:57:10.706 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:57:10.706 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout - 302 0 null 5.9804ms
2024-11-10 15:57:10.712 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout - null null
2024-11-10 15:57:10.713 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-10 15:57:10.713 +01:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-11-10 15:57:10.714 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout - 302 0 null 1.1001ms
2024-11-10 15:57:10.720 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=%2FIdentity%2FAccount%2FLogout - null null
2024-11-10 15:57:10.720 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:57:10.720 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:57:10.721 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:57:10.721 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:57:10.721 +01:00 [INF] Executed handler method OnGetAsync, returned result .
2024-11-10 15:57:10.722 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:57:10.722 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:57:10.725 +01:00 [INF] Executed page /Account/Login in 4.222ms
2024-11-10 15:57:10.725 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:57:10.725 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=%2FIdentity%2FAccount%2FLogout - 200 null text/html; charset=utf-8 5.3896ms
2024-11-10 15:57:13.918 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Login - null null
2024-11-10 15:57:13.919 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:57:13.919 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:57:13.920 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:57:13.920 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:57:13.920 +01:00 [INF] Executed handler method OnGetAsync, returned result .
2024-11-10 15:57:13.921 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:57:13.921 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:57:13.923 +01:00 [INF] Executed page /Account/Login in 3.6652ms
2024-11-10 15:57:13.923 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:57:13.923 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Login - 200 null text/html; charset=utf-8 4.8816ms
2024-11-10 15:57:21.229 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Login - application/x-www-form-urlencoded 253
2024-11-10 15:57:21.229 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:21.230 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:57:21.230 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:57:21.231 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-11-10 15:57:21.422 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-11-10 15:57:21.425 +01:00 [INF] User logged in.
2024-11-10 15:57:21.425 +01:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RedirectResult.
2024-11-10 15:57:21.426 +01:00 [INF] Executing RedirectResult, redirecting to http://localhost:3000.
2024-11-10 15:57:21.426 +01:00 [INF] Executed page /Account/Login in 196.1348ms
2024-11-10 15:57:21.426 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:57:21.426 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Login - 302 0 null 197.8754ms
2024-11-10 15:57:21.852 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:57:21.853 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:21.853 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:21.854 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:57:21.880 +01:00 [INF] Authentication result: True
2024-11-10 15:57:21.885 +01:00 [INF] Principal Name from auth result: mat@mail.no
2024-11-10 15:57:21.892 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:57:21.904 +01:00 [INF] Request method: GET
2024-11-10 15:57:21.910 +01:00 [INF] Request scheme: http
2024-11-10 15:57:21.916 +01:00 [INF] Auth Type: Identity.Application
2024-11-10 15:57:21.926 +01:00 [INF] Identity Name: mat@mail.no
2024-11-10 15:57:21.947 +01:00 [INF] User from UserManager: mat@mail.no
2024-11-10 15:57:21.952 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA, .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4AlqHbEkjbVysgBjGLbgB5d-jF7-yD0_jSRZieOACgoz0Di_GqYqVxfVUhDTyIJO7M-EOcy7ku0t01xQaonc0I2wA61YOv2BZ7kILEbc3o78dUHcxJP_52g9QCkXFtW8Baz741mL7w1a8cSNLYEszW88g08QQSGBbPuD_tk1iw-28QkXsOHo2rAwELQaOt9UfwiM_eALbDlmaptCOkogd43bvDWpHJNM7D-ReR2SjwVm8M3zDYrnPex4B-MEIg3BoQ0k1P3DGaMf43d5r2kISKzttevW6XY8Fbxsv0Nn5XBOfkorfXLS-azdSegG3wBipLDenPyMjUBzdfwLh_KorWrmniXxyDgV2QWRmNwwceFqtKoMLUeSvVOCf3_VzrLKH5jwznTbTKftLicLNocjZXaE0NEu7f5F2UKwAN1JEXtCM_lHNYqTYeMt8Cgv2AGYeFiA-HPPLCIQ3DgI6LbevxidCHWZJgCimpbxF_ZJo6OKYWth0OBKjfPzwjZ230DiRR2amHoAj38rSmIk02wlwj8yPHQ4-g-cUqjn41EjsS3IXmmBcxnSQaZ3iGAOWfSkEhQ3QamXPYZ8tk85OgkudRtiw9ITnggUisol7uJVUy9x-6-Bh4w7ZeFIFjoOH3b5OLwP6AZHwoRG2L-fSbOVa_TO5qVSf_eeER4JQLBOxSJtfl55akz4qduLjfVbNwMQtfQnFbcBt0Y62K91gogO8_adO
2024-11-10 15:57:21.957 +01:00 [INF] GetUserInfo called:
2024-11-10 15:57:21.961 +01:00 [INF] IsAuthenticated: True
2024-11-10 15:57:21.967 +01:00 [INF] UserName: mat@mail.no
2024-11-10 15:57:21.972 +01:00 [INF] Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: a4977aa4-b22f-42b5-9b8f-c1a2da413052, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: mat@mail.no, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: mat@mail.no, AspNet.Identity.SecurityStamp: D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON, amr: pwd
2024-11-10 15:57:21.978 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = a4977aa4-b22f-42b5-9b8f-c1a2da413052
2024-11-10 15:57:21.983 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = mat@mail.no
2024-11-10 15:57:21.987 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = mat@mail.no
2024-11-10 15:57:21.991 +01:00 [INF] Claim: AspNet.Identity.SecurityStamp = D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON
2024-11-10 15:57:21.997 +01:00 [INF] Claim: amr = pwd
2024-11-10 15:57:22.002 +01:00 [INF] Returning response: {"isAuthenticated":true,"userName":"mat@mail.no","manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:57:22.002 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:57:22.002 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 148.4525ms
2024-11-10 15:57:22.003 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:22.003 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 151.0617ms
2024-11-10 15:57:22.005 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:57:22.005 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:22.006 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:22.006 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:57:22.010 +01:00 [INF] Authentication result: True
2024-11-10 15:57:22.015 +01:00 [INF] Principal Name from auth result: mat@mail.no
2024-11-10 15:57:22.019 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:57:22.022 +01:00 [INF] Request method: GET
2024-11-10 15:57:22.026 +01:00 [INF] Request scheme: http
2024-11-10 15:57:22.030 +01:00 [INF] Auth Type: Identity.Application
2024-11-10 15:57:22.033 +01:00 [INF] Identity Name: mat@mail.no
2024-11-10 15:57:22.042 +01:00 [INF] User from UserManager: mat@mail.no
2024-11-10 15:57:22.047 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA, .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4AlqHbEkjbVysgBjGLbgB5d-jF7-yD0_jSRZieOACgoz0Di_GqYqVxfVUhDTyIJO7M-EOcy7ku0t01xQaonc0I2wA61YOv2BZ7kILEbc3o78dUHcxJP_52g9QCkXFtW8Baz741mL7w1a8cSNLYEszW88g08QQSGBbPuD_tk1iw-28QkXsOHo2rAwELQaOt9UfwiM_eALbDlmaptCOkogd43bvDWpHJNM7D-ReR2SjwVm8M3zDYrnPex4B-MEIg3BoQ0k1P3DGaMf43d5r2kISKzttevW6XY8Fbxsv0Nn5XBOfkorfXLS-azdSegG3wBipLDenPyMjUBzdfwLh_KorWrmniXxyDgV2QWRmNwwceFqtKoMLUeSvVOCf3_VzrLKH5jwznTbTKftLicLNocjZXaE0NEu7f5F2UKwAN1JEXtCM_lHNYqTYeMt8Cgv2AGYeFiA-HPPLCIQ3DgI6LbevxidCHWZJgCimpbxF_ZJo6OKYWth0OBKjfPzwjZ230DiRR2amHoAj38rSmIk02wlwj8yPHQ4-g-cUqjn41EjsS3IXmmBcxnSQaZ3iGAOWfSkEhQ3QamXPYZ8tk85OgkudRtiw9ITnggUisol7uJVUy9x-6-Bh4w7ZeFIFjoOH3b5OLwP6AZHwoRG2L-fSbOVa_TO5qVSf_eeER4JQLBOxSJtfl55akz4qduLjfVbNwMQtfQnFbcBt0Y62K91gogO8_adO
2024-11-10 15:57:22.051 +01:00 [INF] GetUserInfo called:
2024-11-10 15:57:22.055 +01:00 [INF] IsAuthenticated: True
2024-11-10 15:57:22.058 +01:00 [INF] UserName: mat@mail.no
2024-11-10 15:57:22.063 +01:00 [INF] Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: a4977aa4-b22f-42b5-9b8f-c1a2da413052, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: mat@mail.no, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: mat@mail.no, AspNet.Identity.SecurityStamp: D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON, amr: pwd
2024-11-10 15:57:22.073 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = a4977aa4-b22f-42b5-9b8f-c1a2da413052
2024-11-10 15:57:22.077 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = mat@mail.no
2024-11-10 15:57:22.084 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = mat@mail.no
2024-11-10 15:57:22.090 +01:00 [INF] Claim: AspNet.Identity.SecurityStamp = D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON
2024-11-10 15:57:22.095 +01:00 [INF] Claim: amr = pwd
2024-11-10 15:57:22.099 +01:00 [INF] Returning response: {"isAuthenticated":true,"userName":"mat@mail.no","manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:57:22.099 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:57:22.100 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 93.7239ms
2024-11-10 15:57:22.100 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:22.100 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 95.4987ms
2024-11-10 15:57:25.788 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:57:25.788 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:25.788 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 204 null null 0.5398ms
2024-11-10 15:57:25.790 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - application/json 0
2024-11-10 15:57:25.790 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:25.792 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:57:25.792 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:57:25.793 +01:00 [INF] Antiforgery token validation failed. The required antiforgery header value "RequestVerificationToken" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery header value "RequestVerificationToken" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2024-11-10 15:57:25.793 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2024-11-10 15:57:25.794 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 400
2024-11-10 15:57:25.794 +01:00 [INF] Executed page /Account/Logout in 1.6422ms
2024-11-10 15:57:25.794 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:57:25.794 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 400 0 null 4.0043ms
2024-11-10 15:57:25.830 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:57:25.831 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:57:25.831 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:57:25.832 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:57:25.832 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:57:25.834 +01:00 [INF] Executed page /Account/Logout in 2.8021ms
2024-11-10 15:57:25.834 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:57:25.835 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 200 null text/html; charset=utf-8 4.665ms
2024-11-10 15:57:27.065 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout - application/x-www-form-urlencoded 225
2024-11-10 15:57:27.065 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:27.065 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:57:27.066 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:57:27.066 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LogoutModel.OnPost - ModelState is "Valid"
2024-11-10 15:57:27.066 +01:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-11-10 15:57:27.067 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:57:27.067 +01:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-11-10 15:57:27.069 +01:00 [INF] User logged out.
2024-11-10 15:57:27.069 +01:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2024-11-10 15:57:27.070 +01:00 [INF] Executing RedirectToPageResult, redirecting to null.
2024-11-10 15:57:27.070 +01:00 [INF] Executed page /Account/Logout in 4.1506ms
2024-11-10 15:57:27.070 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:57:27.070 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout - 302 0 null 5.2772ms
2024-11-10 15:57:27.079 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout - null null
2024-11-10 15:57:27.079 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-10 15:57:27.080 +01:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2024-11-10 15:57:27.080 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout - 302 0 null 1.6108ms
2024-11-10 15:57:27.087 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=%2FIdentity%2FAccount%2FLogout - null null
2024-11-10 15:57:27.087 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:57:27.088 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:57:27.088 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:57:27.088 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:57:27.089 +01:00 [INF] Executed handler method OnGetAsync, returned result .
2024-11-10 15:57:27.089 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:57:27.089 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:57:27.091 +01:00 [INF] Executed page /Account/Login in 2.9107ms
2024-11-10 15:57:27.091 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:57:27.091 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=%2FIdentity%2FAccount%2FLogout - 200 null text/html; charset=utf-8 3.8935ms
2024-11-10 15:57:28.917 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Register - null null
2024-11-10 15:57:28.918 +01:00 [INF] Executing endpoint '/Account/Register'
2024-11-10 15:57:28.918 +01:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2024-11-10 15:57:28.919 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:57:28.919 +01:00 [INF] Executed handler method OnGetAsync, returned result .
2024-11-10 15:57:28.919 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:57:28.919 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:57:28.923 +01:00 [INF] Executed page /Account/Register in 4.3751ms
2024-11-10 15:57:28.923 +01:00 [INF] Executed endpoint '/Account/Register'
2024-11-10 15:57:28.924 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Register - 200 null text/html; charset=utf-8 6.7059ms
2024-11-10 15:57:38.735 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Register - application/x-www-form-urlencoded 260
2024-11-10 15:57:38.735 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:38.736 +01:00 [INF] Executing endpoint '/Account/Register'
2024-11-10 15:57:38.736 +01:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2024-11-10 15:57:38.739 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.RegisterModel.OnPostAsync - ModelState is "Valid"
2024-11-10 15:57:38.742 +01:00 [INF] OnPostAsync started with returnUrl: null
2024-11-10 15:57:38.752 +01:00 [INF] ModelState is valid. Creating user with email: mats@mail.no
2024-11-10 15:57:38.950 +01:00 [INF] User created a new account with password.
2024-11-10 15:57:38.954 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-11-10 15:57:38.957 +01:00 [INF] User signed in successfully
2024-11-10 15:57:38.959 +01:00 [INF] Authentication state after sign in: true
2024-11-10 15:57:38.962 +01:00 [INF] Cookies being set: .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4AlopqV88G8iuLpagN1itvSSCoyCm5Qsa62nFjwvnTzDC_bou83i56XwD_wye3LEnEqkRwLC59yynBZ0uhg36GFQPydcczARYDFh0Sc7l4aJ0y9-oLQPih51NeXjM__d5eYqdSvkT69sv4nHFxS_dBr2I6zt-6gerh2hRxwPMqm4BjqOccLKi3CsCMPsMSSDTECnGxf5lv4q7Yzzw_dY_BjePdOK6p7npEkgudyh2y4cUC7GaqowM1KP9M1KhWm3vYbDmY8FPOiigc7rP-hxMLyWLS0v8UBsuwstg5uDVitAbQClGV64m6gm349nuoCV8gLykBFboV1NkE2AiRhtBQKGg234jRe4Emk68Ss_8gD2qXCf3Rv07krHy39KQZ0sPHjeSz8hADZ8VfnZp1uPG6jGDKqg_LzmJGO_px98nY1PajHrU8MO8p4CEPmcOhnPT_xWVvBAsn7T1a7yoh5J0WFXoFWMdZYP9DS2E-O9yH8k1qA8lYpUTpS4lBJ29YNBNN8X6b10uxDlG8mnDh_48db6IYGlrx-AlgR__ppceJ3p0-51aizUqXnenD5HWkoGVExkDBAN6QfU7Ik73ENk6aWkY0Si3FvhEr62TxaXGD60fJ26CLUi5LEpfY_GAW9V9XY6V_cWIy9mM6M17gmaNExLRVcHWFx4g6I0TF1gySWko9WOTmOmzXbHfgUaQidN3xYz8adsVo_MknQM09Ga6-UNu; expires=Tue, 10 Dec 2024 14:57:38 GMT; path=/; samesite=lax; httponly
2024-11-10 15:57:39.025 +01:00 [INF] Redirecting to local URL: /
2024-11-10 15:57:39.025 +01:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2024-11-10 15:57:39.027 +01:00 [INF] Executed page /Account/Register in 291.2788ms
2024-11-10 15:57:39.028 +01:00 [INF] Executed endpoint '/Account/Register'
2024-11-10 15:57:39.035 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The supplied URL is not local. A URL with an absolute path is considered local if it does not have a host/authority part. URLs using virtual paths ('~/') are also local.
   at Microsoft.AspNetCore.Mvc.Infrastructure.LocalRedirectResultExecutor.ExecuteAsync(ActionContext context, LocalRedirectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-10 15:57:39.041 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Register - 500 null text/html; charset=utf-8 305.9495ms
2024-11-10 15:57:47.422 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Register - null null
2024-11-10 15:57:47.422 +01:00 [INF] Executing endpoint '/Account/Register'
2024-11-10 15:57:47.423 +01:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2024-11-10 15:57:47.423 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:57:47.424 +01:00 [INF] Executed handler method OnGetAsync, returned result .
2024-11-10 15:57:47.424 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:57:47.424 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:57:47.427 +01:00 [INF] Executed page /Account/Register in 4.2601ms
2024-11-10 15:57:47.427 +01:00 [INF] Executed endpoint '/Account/Register'
2024-11-10 15:57:47.428 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Register - 200 null text/html; charset=utf-8 5.6486ms
2024-11-10 15:57:49.739 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:57:49.740 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:49.740 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:49.740 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:57:49.749 +01:00 [INF] Authentication result: False
2024-11-10 15:57:49.767 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:57:49.777 +01:00 [INF] Request method: GET
2024-11-10 15:57:49.791 +01:00 [INF] Request scheme: http
2024-11-10 15:57:49.794 +01:00 [INF] Auth Type: 
2024-11-10 15:57:49.803 +01:00 [INF] Identity Name: 
2024-11-10 15:57:49.808 +01:00 [INF] User from UserManager: null
2024-11-10 15:57:49.812 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA
2024-11-10 15:57:49.815 +01:00 [INF] GetUserInfo called:
2024-11-10 15:57:49.828 +01:00 [INF] IsAuthenticated: False
2024-11-10 15:57:49.832 +01:00 [INF] UserName: 
2024-11-10 15:57:49.837 +01:00 [INF] Claims: 
2024-11-10 15:57:49.848 +01:00 [INF] Returning response: {"isAuthenticated":false,"userName":null,"manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:57:49.848 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:57:49.848 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 108.4151ms
2024-11-10 15:57:49.849 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:49.849 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 111.0076ms
2024-11-10 15:57:49.868 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:57:49.868 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:57:49.868 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:49.868 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:57:49.912 +01:00 [INF] Authentication result: False
2024-11-10 15:57:49.916 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:57:49.924 +01:00 [INF] Request method: GET
2024-11-10 15:57:49.936 +01:00 [INF] Request scheme: http
2024-11-10 15:57:49.945 +01:00 [INF] Auth Type: 
2024-11-10 15:57:49.950 +01:00 [INF] Identity Name: 
2024-11-10 15:57:49.964 +01:00 [INF] User from UserManager: null
2024-11-10 15:57:49.968 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA
2024-11-10 15:57:49.973 +01:00 [INF] GetUserInfo called:
2024-11-10 15:57:49.978 +01:00 [INF] IsAuthenticated: False
2024-11-10 15:57:49.990 +01:00 [INF] UserName: 
2024-11-10 15:57:49.993 +01:00 [INF] Claims: 
2024-11-10 15:57:49.997 +01:00 [INF] Returning response: {"isAuthenticated":false,"userName":null,"manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:57:49.997 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:57:49.998 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 128.9887ms
2024-11-10 15:57:49.998 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:57:49.998 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 130.1143ms
2024-11-10 15:57:58.140 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:57:58.141 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:57:58.141 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:57:58.143 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:57:58.143 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:57:58.143 +01:00 [INF] Executed handler method OnGetAsync, returned result .
2024-11-10 15:57:58.143 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:57:58.143 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:57:58.145 +01:00 [INF] Executed page /Account/Login in 3.186ms
2024-11-10 15:57:58.145 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:57:58.145 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Login?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 200 null text/html; charset=utf-8 4.9256ms
2024-11-10 15:58:09.148 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Login?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - application/x-www-form-urlencoded 253
2024-11-10 15:58:09.148 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:58:09.149 +01:00 [INF] Executing endpoint '/Account/Login'
2024-11-10 15:58:09.149 +01:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2024-11-10 15:58:09.151 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2024-11-10 15:58:09.392 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-11-10 15:58:09.394 +01:00 [INF] User logged in.
2024-11-10 15:58:09.395 +01:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RedirectResult.
2024-11-10 15:58:09.395 +01:00 [INF] Executing RedirectResult, redirecting to http://localhost:3000.
2024-11-10 15:58:09.395 +01:00 [INF] Executed page /Account/Login in 245.5918ms
2024-11-10 15:58:09.395 +01:00 [INF] Executed endpoint '/Account/Login'
2024-11-10 15:58:09.395 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Login?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 302 0 null 247.223ms
2024-11-10 15:58:10.014 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:58:10.014 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:58:10.015 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:58:10.015 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:58:10.241 +01:00 [INF] Authentication result: True
2024-11-10 15:58:10.247 +01:00 [INF] Principal Name from auth result: mat@mail.no
2024-11-10 15:58:10.251 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:58:10.256 +01:00 [INF] Request method: GET
2024-11-10 15:58:10.261 +01:00 [INF] Request scheme: http
2024-11-10 15:58:10.265 +01:00 [INF] Auth Type: Identity.Application
2024-11-10 15:58:10.269 +01:00 [INF] Identity Name: mat@mail.no
2024-11-10 15:58:10.280 +01:00 [INF] User from UserManager: mat@mail.no
2024-11-10 15:58:10.283 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA, .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4AlocB0hnoKSa4fsSMzvT4lK35lAplxuDBNK2kZkdP_rKt4Gr9r1S2IVWjdO3GlidGF9WeP9FuR0pfysGpI4BK7lZEQHdyyiOO7tUjEmOWqGQQF3l0EHAMLxoFEqqqr1AG7-GXpwso1m7ePYoh6g0C_EEP2FjoUBkaFozLYBortOEwhRrbN609XeoguY6W36kN6WUb-AA5fSbMcvEL_wsUgQRqb2QctRelktWZJG7lMcknDGbXEywPr_DIvKA_W7rkFItIPUbpMg8nWowvDK3uynJzbQyZfbTDUKfxr6lmAROAN23Jz5RFjOYBlFeRa1POlpcPEWgWsYjIUA472Wwn8h6QvFM5JJ5GTnv84KED63gmtSkhIuMIrO8tv2F25TkSxt5GYWzD8KEo78o98-5Uk5BMCF7JFQt4Om_keLImIupfYMTQ3nWUnDZQw9wbr3YttLcfDOXuZTDCFZ9h10cg4ydMD-J9ZOoDfG4Xhuhr7QDbdwuA114FhWr4_M4kYM9aTfi5qrVroBSEDpw8t0aDore-UTqIi7WdyKEtN8S-XEteTaTJt8W6XwDI_uSaS8YoRJDpe4dRdtbRHsHdOjf55YahdBI260A5y2_rhmFqbGn27dP1LfDnWvrIv9EA54XcCptXnCNDXm73l3HU2bvmGI5VRMXDhlsxvx4-KK_V8A7DJv2JAv7Im8Jqar1fx6XOV-nNh_7nBVjS_0ClLfeNNPf
2024-11-10 15:58:10.287 +01:00 [INF] GetUserInfo called:
2024-11-10 15:58:10.290 +01:00 [INF] IsAuthenticated: True
2024-11-10 15:58:10.295 +01:00 [INF] UserName: mat@mail.no
2024-11-10 15:58:10.298 +01:00 [INF] Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: a4977aa4-b22f-42b5-9b8f-c1a2da413052, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: mat@mail.no, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: mat@mail.no, AspNet.Identity.SecurityStamp: D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON, amr: pwd
2024-11-10 15:58:10.303 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = a4977aa4-b22f-42b5-9b8f-c1a2da413052
2024-11-10 15:58:10.306 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = mat@mail.no
2024-11-10 15:58:10.310 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = mat@mail.no
2024-11-10 15:58:10.313 +01:00 [INF] Claim: AspNet.Identity.SecurityStamp = D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON
2024-11-10 15:58:10.316 +01:00 [INF] Claim: amr = pwd
2024-11-10 15:58:10.319 +01:00 [INF] Returning response: {"isAuthenticated":true,"userName":"mat@mail.no","manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:58:10.320 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:58:10.320 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 305.1775ms
2024-11-10 15:58:10.320 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:58:10.320 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 306.8304ms
2024-11-10 15:58:10.323 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - null null
2024-11-10 15:58:10.324 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:58:10.325 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:58:10.326 +01:00 [INF] Route matched with {action = "GetUserInfo", controller = "Auth", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserInfo() on controller FoodRegistrationTool.Controllers.AuthController (api).
2024-11-10 15:58:10.330 +01:00 [INF] Authentication result: True
2024-11-10 15:58:10.393 +01:00 [INF] Principal Name from auth result: mat@mail.no
2024-11-10 15:58:10.404 +01:00 [INF] Request path: /api/Auth/userinfo
2024-11-10 15:58:10.413 +01:00 [INF] Request method: GET
2024-11-10 15:58:10.417 +01:00 [INF] Request scheme: http
2024-11-10 15:58:10.420 +01:00 [INF] Auth Type: Identity.Application
2024-11-10 15:58:10.428 +01:00 [INF] Identity Name: mat@mail.no
2024-11-10 15:58:10.443 +01:00 [INF] User from UserManager: mat@mail.no
2024-11-10 15:58:10.446 +01:00 [INF] Cookies received: .AspNetCore.Antiforgery.lR7t4MXUUZs=CfDJ8FYKQg2-tzVDp03-Gqv4Alp0e2kDKTpS7ycju9zsrFEctUbGhXGgm-TR2OGRtNiDSW2-yLD_U9ztu3gK8l94pzxhlcgICY-WqKInqucCSG5DxX1CJdczsvzTSLcIdT395LhAveMj_2LRO4FR08fdmRA, .AspNetCore.Identity.Application=CfDJ8FYKQg2-tzVDp03-Gqv4AlocB0hnoKSa4fsSMzvT4lK35lAplxuDBNK2kZkdP_rKt4Gr9r1S2IVWjdO3GlidGF9WeP9FuR0pfysGpI4BK7lZEQHdyyiOO7tUjEmOWqGQQF3l0EHAMLxoFEqqqr1AG7-GXpwso1m7ePYoh6g0C_EEP2FjoUBkaFozLYBortOEwhRrbN609XeoguY6W36kN6WUb-AA5fSbMcvEL_wsUgQRqb2QctRelktWZJG7lMcknDGbXEywPr_DIvKA_W7rkFItIPUbpMg8nWowvDK3uynJzbQyZfbTDUKfxr6lmAROAN23Jz5RFjOYBlFeRa1POlpcPEWgWsYjIUA472Wwn8h6QvFM5JJ5GTnv84KED63gmtSkhIuMIrO8tv2F25TkSxt5GYWzD8KEo78o98-5Uk5BMCF7JFQt4Om_keLImIupfYMTQ3nWUnDZQw9wbr3YttLcfDOXuZTDCFZ9h10cg4ydMD-J9ZOoDfG4Xhuhr7QDbdwuA114FhWr4_M4kYM9aTfi5qrVroBSEDpw8t0aDore-UTqIi7WdyKEtN8S-XEteTaTJt8W6XwDI_uSaS8YoRJDpe4dRdtbRHsHdOjf55YahdBI260A5y2_rhmFqbGn27dP1LfDnWvrIv9EA54XcCptXnCNDXm73l3HU2bvmGI5VRMXDhlsxvx4-KK_V8A7DJv2JAv7Im8Jqar1fx6XOV-nNh_7nBVjS_0ClLfeNNPf
2024-11-10 15:58:10.450 +01:00 [INF] GetUserInfo called:
2024-11-10 15:58:10.452 +01:00 [INF] IsAuthenticated: True
2024-11-10 15:58:10.459 +01:00 [INF] UserName: mat@mail.no
2024-11-10 15:58:10.462 +01:00 [INF] Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: a4977aa4-b22f-42b5-9b8f-c1a2da413052, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: mat@mail.no, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: mat@mail.no, AspNet.Identity.SecurityStamp: D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON, amr: pwd
2024-11-10 15:58:10.465 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = a4977aa4-b22f-42b5-9b8f-c1a2da413052
2024-11-10 15:58:10.468 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = mat@mail.no
2024-11-10 15:58:10.472 +01:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = mat@mail.no
2024-11-10 15:58:10.477 +01:00 [INF] Claim: AspNet.Identity.SecurityStamp = D64C2XZ7D5BEMRHH6QTHMQQ3G6K6KJON
2024-11-10 15:58:10.480 +01:00 [INF] Claim: amr = pwd
2024-11-10 15:58:10.484 +01:00 [INF] Returning response: {"isAuthenticated":true,"userName":"mat@mail.no","manageUrl":"/Identity/Account/Manage","logoutUrl":"/Identity/Account/Logout","loginUrl":"/Identity/Account/Login","registerUrl":"/Identity/Account/Register"}
2024-11-10 15:58:10.484 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-10 15:58:10.484 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api) in 158.5136ms
2024-11-10 15:58:10.484 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.AuthController.GetUserInfo (api)'
2024-11-10 15:58:10.486 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/api/Auth/userinfo - 200 null application/json; charset=utf-8 161.2987ms
2024-11-10 15:58:19.363 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:58:19.363 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:58:19.365 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 204 null null 1.3048ms
2024-11-10 15:58:19.367 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - application/json 0
2024-11-10 15:58:19.367 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:58:19.368 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:58:19.368 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:58:19.368 +01:00 [INF] Antiforgery token validation failed. The required antiforgery header value "RequestVerificationToken" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery header value "RequestVerificationToken" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2024-11-10 15:58:19.369 +01:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2024-11-10 15:58:19.369 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 400
2024-11-10 15:58:19.369 +01:00 [INF] Executed page /Account/Logout in 1.0856ms
2024-11-10 15:58:19.369 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:58:19.369 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 400 0 null 2.31ms
2024-11-10 15:58:19.398 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - null null
2024-11-10 15:58:19.399 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:58:19.399 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:58:19.400 +01:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2024-11-10 15:58:19.400 +01:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:58:19.402 +01:00 [INF] Executed page /Account/Logout in 2.4849ms
2024-11-10 15:58:19.402 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:58:19.402 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Logout?ReturnUrl=http%3A%2F%2Flocalhost%3A3000 - 200 null text/html; charset=utf-8 3.7519ms
2024-11-10 15:58:24.663 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Identity/Account/Manage - null null
2024-11-10 15:58:24.671 +01:00 [INF] Executing endpoint '/Account/Manage/Index'
2024-11-10 15:58:24.679 +01:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2024-11-10 15:58:24.681 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.Manage.IndexModel.OnGetAsync - ModelState is "Valid"
2024-11-10 15:58:24.689 +01:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2024-11-10 15:58:24.738 +01:00 [INF] Executed page /Account/Manage/Index in 58.7829ms
2024-11-10 15:58:24.738 +01:00 [INF] Executed endpoint '/Account/Manage/Index'
2024-11-10 15:58:24.738 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Identity/Account/Manage - 200 null text/html; charset=utf-8 75.6517ms
2024-11-10 15:58:38.427 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?returnUrl=%2FHome - application/x-www-form-urlencoded 225
2024-11-10 15:58:38.428 +01:00 [INF] CORS policy execution successful.
2024-11-10 15:58:38.429 +01:00 [INF] Executing endpoint '/Account/Logout'
2024-11-10 15:58:38.429 +01:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2024-11-10 15:58:38.430 +01:00 [INF] Executing handler method api.Areas.Identity.Pages.Account.LogoutModel.OnPost - ModelState is "Valid"
2024-11-10 15:58:38.430 +01:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-11-10 15:58:38.430 +01:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-11-10 15:58:38.431 +01:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-11-10 15:58:38.434 +01:00 [INF] User logged out.
2024-11-10 15:58:38.434 +01:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.RedirectResult.
2024-11-10 15:58:38.434 +01:00 [INF] Executing RedirectResult, redirecting to /Home.
2024-11-10 15:58:38.434 +01:00 [INF] Executed page /Account/Logout in 5.0611ms
2024-11-10 15:58:38.434 +01:00 [INF] Executed endpoint '/Account/Logout'
2024-11-10 15:58:38.435 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5194/Identity/Account/Logout?returnUrl=%2FHome - 302 0 null 7.1968ms
2024-11-10 15:58:38.441 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5194/Home - null null
2024-11-10 15:58:38.441 +01:00 [INF] Executing endpoint 'FoodRegistrationTool.Controllers.HomeController.Index (api)'
2024-11-10 15:58:38.443 +01:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller FoodRegistrationTool.Controllers.HomeController (api).
2024-11-10 15:58:38.445 +01:00 [INF] Executing ViewResult, running view Index.
2024-11-10 15:58:38.453 +01:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/Home/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2024-11-10 15:58:38.457 +01:00 [INF] Executed action FoodRegistrationTool.Controllers.HomeController.Index (api) in 14.2343ms
2024-11-10 15:58:38.458 +01:00 [INF] Executed endpoint 'FoodRegistrationTool.Controllers.HomeController.Index (api)'
2024-11-10 15:58:38.464 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/Home/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-10 15:58:38.470 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5194/Home - 500 null text/html; charset=utf-8 29.575ms
